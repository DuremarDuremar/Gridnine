{"version":3,"sources":["components/spinner.tsx","style/options_style.tsx","components/options.tsx","style/carts_style.tsx","assets/svg.tsx","components/carts.tsx","data/axios.tsx","style/app_style.tsx","app.tsx","index.tsx"],"names":["rotate","n","keyframes","IdsCss","styled","div","props","top","directors","IdsDoubleRing","Spinner","Content","form","Sort","Filter","Price","Air","AirItem","span","Options","airItems","setForm","debouncedA","useDebouncedCallback","priceA","debouncedB","priceB","Infinity","filterFilter","opt","filter","includes","item","htmlFor","type","id","value","onClick","sort","name","defaultChecked","onChange","e","Number","target","map","index","air","Cards","Card","Title","Logo","Info","Transfer","Time","Sity","Button","button","More","version","xmlns","width","height","viewBox","preserveAspectRatio","transform","fill","stroke","d","Carts","cards","setNumeric","numeric","date","Date","toString","split","replace","slice","info","mins","segment","legs","segments","length","departureCity","caption","departureAirport","uid","className","arrivalCity","arrivalAirport","departureDate","reverse","join","duration","Math","trunc","arrivalDate","airline","parseInt","price","passengerPrices","total","amount","prev","scroll","scrollToBottom","Server","Promise","resolve","data","Global","createGlobalStyle","Up","i","defaultForm","NaN","dataServer","App","useState","items","setItems","setairItems","arrayFilter","setArrayFilter","filterAir","setFilterAir","setCards","useEffect","getServer","then","setTimeout","result","Array","from","Set","flights","flight","carrier","values","res","_sortby","sum","scrollToTop","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b8e6c10f.chunk.js","sourcesContent":["import React from \"react\";\r\nimport styled, { keyframes } from \"styled-components\";\r\n\r\nexport const rotate = (n: any) => keyframes`\r\n 0% {\r\n    -webkit-transform: rotate(0);\r\n    transform: rotate(0);\r\n  }\r\n  100% {\r\n    -webkit-transform: rotate(${n});\r\n    transform: rotate(${n});\r\n  }\r\n`;\r\n\r\nconst IdsCss = styled.div<{ top?: boolean; directors?: boolean }>`\r\n  margin: 0 auto;\r\n  ${(props) =>\r\n    props.top &&\r\n    `\r\n    position:fixed;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    `}\r\n  ${(props) =>\r\n    props.directors &&\r\n    `\r\n    left: 15%;\r\n    position:fixed;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    `}\r\n`;\r\nconst IdsDoubleRing = styled.div`\r\n  position: relative;\r\n  width: 77px !important;\r\n  height: 77px !important;\r\n  -webkit-transform: translate(-38.5px, -38.5px) scale(0.385)\r\n    translate(38.5px, 38.5px);\r\n  transform: translate(-38.5px, -38.5px) scale(0.385) translate(38.5px, 38.5px);\r\n  div {\r\n    position: absolute;\r\n    width: 160px;\r\n    height: 160px;\r\n    top: 20px;\r\n    left: 20px;\r\n    border-radius: 50%;\r\n    border: 8px solid #000;\r\n    border-color: #00bc8c transparent #00bc8c transparent;\r\n    -webkit-animation: ${rotate(\"360deg\")} 1.5s linear infinite;\r\n    animation: ${rotate(\"360deg\")} 1.5s linear infinite;\r\n    :nth-child(2) {\r\n      width: 140px;\r\n      height: 140px;\r\n      top: 30px;\r\n      left: 30px;\r\n      border-color: transparent #fff transparent #fff;\r\n      -webkit-animation: ${rotate(\"-360deg\")} 1.5s linear infinite;\r\n      animation: ${rotate(\"-360deg\")} 1.5s linear infinite;\r\n    }\r\n  }\r\n`;\r\n\r\ntype SpinnerProps = {\r\n  top?: boolean;\r\n  directors?: boolean;\r\n};\r\n\r\nconst Spinner: React.FC<SpinnerProps> = ({ top, directors }) => {\r\n  return (\r\n    <IdsCss top={top} directors={directors}>\r\n      <IdsDoubleRing>\r\n        <div></div>\r\n        <div></div>\r\n      </IdsDoubleRing>\r\n    </IdsCss>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Content = styled.form`\r\n  h2 {\r\n    margin-top: 8px;\r\n    font-size: 14px;\r\n  }\r\n  span {\r\n    font-size: 12px;\r\n  }\r\n  label,\r\n  input {\r\n    cursor: pointer;\r\n  }\r\n  > div {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  margin: 0px auto;\r\n`;\r\n\r\nexport const Sort = styled.div``;\r\nexport const Filter = styled.div``;\r\nexport const Price = styled.div`\r\n  label {\r\n    display: flex;\r\n    margin-top: 10px;\r\n  }\r\n\r\n  p {\r\n    width: 20px;\r\n    font-size: 13px;\r\n  }\r\n\r\n  input {\r\n    border: 1px solid rgb(0, 0, 0, 0.5);\r\n    max-width: 130px;\r\n    font-size: 12px;\r\n    padding: 2px 0 2px 5px;\r\n  }\r\n`;\r\nexport const Air = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  input {\r\n    margin-top: 8px;\r\n  }\r\n`;\r\n\r\nexport const AirItem = styled.span`\r\n  font-size: 9px;\r\n  text-align: center;\r\n`;\r\n","import React, { FC } from \"react\";\nimport { useDebouncedCallback } from \"use-debounce\";\n\nimport Spinner from \"./spinner\";\nimport { IForm } from \"../app\";\nimport {\n  Content,\n  Sort,\n  Filter,\n  Price,\n  Air,\n  AirItem,\n} from \"../style/options_style\";\n\ninterface IProps {\n  airItems: string[] | null;\n  setForm: React.Dispatch<React.SetStateAction<IForm>>;\n  form: IForm;\n  setNumeric: React.Dispatch<React.SetStateAction<number>>;\n}\n\nconst Options: FC<IProps> = ({ airItems, setForm, form }) => {\n  const debouncedA = useDebouncedCallback((priceA) => {\n    if (priceA) {\n      setForm({ ...form, priceA: priceA });\n    } else {\n      setForm({ ...form, priceA: 0 });\n    }\n  }, 1000);\n\n  const debouncedB = useDebouncedCallback((priceB) => {\n    if (priceB) {\n      setForm({ ...form, priceB: priceB });\n    } else {\n      setForm({ ...form, priceB: Infinity });\n    }\n  }, 1000);\n\n  // console.log(\"form\", form);\n  // console.log(\"watch\", watch());\n\n  const airFilter = (name: string) => {\n    form.air.includes(name)\n      ? setForm({\n          ...form,\n          air: [...form.air.filter((item) => item !== name)],\n        })\n      : setForm({ ...form, air: [...form.air, name] });\n  };\n\n  const filterFilter = (opt: string) => {\n    form.filter.includes(opt)\n      ? setForm({\n          ...form,\n          filter: [...form.filter.filter((item) => item !== opt)],\n        })\n      : setForm({ ...form, filter: [...form.filter, opt] });\n  };\n\n  if (airItems) {\n    return (\n      <Content>\n        <Sort>\n          <h2>Сортировать</h2>\n          <label htmlFor=\"up\">\n            <input\n              type=\"radio\"\n              id=\"up\"\n              value=\"1\"\n              onClick={() => setForm({ ...form, sort: \"1\" })}\n              name=\"sort\"\n              defaultChecked\n            />{\" \"}\n            - <span>по возрастанию цены</span>\n          </label>\n          <label htmlFor=\"down\">\n            <input\n              type=\"radio\"\n              id=\"down\"\n              value=\"2\"\n              onClick={() => setForm({ ...form, sort: \"2\" })}\n              name=\"sort\"\n            />{\" \"}\n            - <span>по убыванию цены</span>\n          </label>\n          <label htmlFor=\"time\">\n            <input\n              type=\"radio\"\n              id=\"time\"\n              value=\"3\"\n              onClick={() => setForm({ ...form, sort: \"3\" })}\n              name=\"sort\"\n            />{\" \"}\n            - <span>по времени в пути</span>\n          </label>\n        </Sort>\n        <Filter>\n          <h2>Фильтровать</h2>\n          <label htmlFor=\"true\">\n            <input\n              type=\"checkbox\"\n              id=\"true\"\n              value=\"1\"\n              onClick={() => filterFilter(\"1\")}\n            />{\" \"}\n            - <span>1 пересадка</span>\n          </label>\n          <label htmlFor=\"false\">\n            <input\n              type=\"checkbox\"\n              id=\"false\"\n              value=\"2\"\n              onClick={() => {\n                filterFilter(\"2\");\n              }}\n            />{\" \"}\n            - <span>без пересадок</span>\n          </label>\n        </Filter>\n        <Price>\n          <h2>Цена</h2>\n          <label htmlFor=\"priceA\">\n            <p>от</p>{\" \"}\n            <input\n              type=\"number\"\n              id=\"priceA\"\n              onChange={(e) => debouncedA(Number(e.target.value))}\n            />\n          </label>\n\n          <label htmlFor=\"priceB\">\n            <p>до</p>{\" \"}\n            <input\n              type=\"number\"\n              id=\"priceB\"\n              onChange={(e) => debouncedB(Number(e.target.value))}\n            />\n          </label>\n        </Price>\n        <Air>\n          <h2>Авиакомпании</h2>\n          {airItems?.map((item, index) => {\n            return (\n              <label key={index} htmlFor={item}>\n                <input\n                  type=\"checkbox\"\n                  value={item}\n                  id={item}\n                  onClick={() => airFilter(item)}\n                />{\" \"}\n                - <AirItem>{item}</AirItem>\n              </label>\n            );\n          })}\n        </Air>\n      </Content>\n    );\n  } else {\n    return <Spinner />;\n  }\n};\n\nexport default Options;\n","import styled from \"styled-components\";\r\n\r\nexport const Content = styled.div`\r\n  grid-column: span 2 / auto;\r\n  background-color: #f9f9fd;\r\n`;\r\n\r\nexport const Cards = styled.div``;\r\n\r\nexport const Card = styled.div`\r\n  transition: all 0.8s ease-out;\r\n  :hover {\r\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);\r\n  }\r\n\r\n  :not(:first-child) {\r\n    margin-top: 10px;\r\n  }\r\n`;\r\n\r\nexport const Title = styled.div`\r\n  padding: 3px 5px;\r\n  background-color: #4286f4;\r\n  color: #f9f9fd;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  h5 {\r\n    font-weight: 400;\r\n    font-size: 13px;\r\n    text-align: right;\r\n  }\r\n  p {\r\n    font-size: 9px;\r\n  }\r\n`;\r\n\r\nexport const Logo = styled.div``;\r\n\r\nexport const Info = styled.div`\r\n  text-align: center;\r\n  font-size: 11px;\r\n  padding: 0 5px;\r\n  strong {\r\n    color: #4286f4;\r\n    font-weight: 400;\r\n  }\r\n\r\n  .fa-long-arrow-alt-right {\r\n    color: #4286f4;\r\n    padding: 0 2px 0 5px;\r\n  }\r\n\r\n  h3 {\r\n    font-size: 10px;\r\n    font-weight: 400;\r\n    text-align: left;\r\n  }\r\n`;\r\n\r\nexport const Transfer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 0 10%;\r\n  min-height: 15px;\r\n\r\n  h4 {\r\n    flex: 20%;\r\n    color: #f37335;\r\n    font-weight: 400;\r\n    position: relative;\r\n  }\r\n  span {\r\n    flex: 30%;\r\n    height: 1px;\r\n    background-color: gray;\r\n    align-self: center;\r\n  }\r\n`;\r\n\r\nexport const Time = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  position: relative;\r\n  margin-top: 10px;\r\n  :before {\r\n    content: \"\";\r\n    display: block;\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 1px;\r\n    background-color: rgb(128, 128, 128, 0.5);\r\n    top: -5px;\r\n  }\r\n`;\r\n\r\nexport const Sity = styled.div`\r\n  margin-top: 8px;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  background-color: #f37335;\r\n  width: 100%;\r\n  min-height: 30px;\r\n  color: #f9f9fd;\r\n  margin-top: 10px;\r\n`;\r\n\r\nexport const More = styled.button`\r\n  display: block;\r\n  margin: 15px auto 0;\r\n  border: 1px solid black;\r\n  max-width: 140px;\r\n  min-height: 20px;\r\n  font-size: 12px;\r\n  width: 100%;\r\n  transition: all 1s ease-out;\r\n  :hover {\r\n    box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);\r\n    border-radius: 7px;\r\n    font-size: 11px;\r\n  }\r\n`;\r\n","export const air = (\r\n  <svg\r\n    version=\"1.0\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"40.000000pt\"\r\n    height=\"20.000000pt\"\r\n    viewBox=\"0 0 1280.000000 640.000000\"\r\n    preserveAspectRatio=\"xMidYMid meet\"\r\n  >\r\n    <metadata></metadata>\r\n    <g\r\n      transform=\"translate(0.000000,640.000000) scale(0.100000,-0.100000)\"\r\n      fill=\"#f9f9fd\"\r\n      stroke=\"none\"\r\n    >\r\n      <path\r\n        d=\"M6593 5311 c1 -408 -2 -636 -12 -783 l-14 -207 -61 -5 c-34 -3 -173\r\n-10 -311 -16 -256 -11 -1908 -85 -3137 -141 l-686 -31 -175 141 c-97 77 -178\r\n148 -180 158 -3 10 -13 77 -23 150 -9 72 -20 137 -24 143 -7 11 -267 41 -282\r\n33 -5 -2 -8 -17 -8 -34 0 -16 -2 -29 -4 -29 -3 0 -245 193 -539 428 -293 236\r\n-538 432 -544 435 -10 6 -483 -39 -490 -47 -2 -2 199 -340 446 -752 l449 -749\r\n-106 -12 c-116 -12 -231 -44 -258 -70 -13 -14 -16 -32 -12 -100 6 -113 33\r\n-152 141 -208 l78 -39 -64 -41 c-36 -22 -225 -141 -421 -265 -201 -127 -349\r\n-227 -340 -228 9 -2 116 6 238 18 l221 23 275 107 c151 59 349 137 439 174\r\nl164 65 86 -24 c153 -44 1045 -246 1302 -295 73 -14 400 -38 819 -60 1485 -77\r\n1710 -91 1850 -115 47 -8 115 -15 153 -15 37 0 67 -3 67 -8 0 -16 -304 -395\r\n-368 -458 -16 -16 -574 -438 -1240 -939 l-1211 -910 32 -33 c84 -87 222 -76\r\n426 34 364 197 1699 962 2336 1338 42 25 86 46 98 46 12 0 116 -18 232 -40\r\n484 -91 760 -120 1163 -120 l192 0 38 39 c96 99 131 386 63 518 -31 61 -91\r\n120 -136 132 -94 26 -309 11 -632 -44 -83 -14 -157 -25 -164 -25 -8 0 139 102\r\n326 228 l340 227 155 6 c115 5 196 14 315 38 187 38 369 82 475 116 41 13 100\r\n26 130 29 147 15 742 38 1595 61 1349 36 1639 45 1750 55 238 22 877 193 1080\r\n290 83 39 149 92 165 130 16 38 1 159 -26 216 -31 66 -119 123 -302 198 -99\r\n40 -158 73 -269 150 -158 108 -291 175 -408 205 -226 60 -901 114 -1225 99\r\n-85 -4 -663 -30 -1285 -58 -621 -28 -1258 -57 -1415 -64 -157 -7 -286 -13\r\n-286 -12 -2 1 -246 644 -431 1136 -64 168 -117 306 -118 307 -1 2 -91 19 -201\r\n38 -109 19 -207 37 -216 39 -16 4 -17 -34 -15 -573z m674 -2816 c45 -19 104\r\n-88 117 -135 4 -15 -2 -9 -15 15 -28 53 -68 95 -91 95 -27 0 -67 -29 -82 -59\r\n-35 -66 -48 -318 -22 -405 8 -26 31 -67 51 -91 20 -25 32 -45 27 -45 -6 0 -13\r\n6 -15 13 -3 7 -6 5 -6 -5 -2 -50 84 9 121 82 31 62 38 54 9 -12 -10 -24 -33\r\n-56 -51 -73 l-32 -30 -196 3 c-226 2 -451 16 -632 36 -138 16 -720 118 -720\r\n126 1 3 114 70 252 150 138 80 292 171 342 204 99 64 89 61 381 107 308 49\r\n484 57 562 24z m130 -197 c-3 -7 -5 -2 -5 12 0 14 2 19 5 13 2 -7 2 -19 0 -25z\r\nm10 -151 c-2 -23 -3 -1 -3 48 0 50 1 68 3 42 2 -26 2 -67 0 -90z m-10 -79 c-3\r\n-7 -5 -2 -5 12 0 14 2 19 5 13 2 -7 2 -19 0 -25z m-10 -40 c-3 -8 -6 -5 -6 6\r\n-1 11 2 17 5 13 3 -3 4 -12 1 -19z\"\r\n      />\r\n      <path\r\n        d=\"M6875 2485 c-55 -8 -180 -27 -279 -44 -177 -30 -179 -31 -255 -80\r\n-42 -27 -186 -113 -321 -192 -135 -78 -249 -145 -253 -149 -19 -16 534 -110\r\n801 -135 163 -16 569 -33 625 -27 23 3 27 7 21 24 -4 15 -3 18 6 13 9 -5 11\r\n-4 6 4 -4 6 -11 9 -15 7 -17 -11 -64 109 -67 174 -8 137 37 400 68 400 5 0 4\r\n-9 -2 -21 -11 -20 -10 -20 20 2 27 21 29 24 13 31 -29 11 -260 7 -368 -7z\r\nm309 -7 c-5 -7 -20 -31 -35 -53 -14 -22 -40 -75 -56 -118 -25 -65 -29 -86 -22\r\n-120 4 -23 8 -64 9 -90 0 -41 -5 -53 -28 -75 -16 -15 -55 -36 -88 -47 -101\r\n-34 -433 -26 -972 26 -62 5 -132 14 -155 19 l-42 9 50 -4 c28 -3 145 -14 260\r\n-24 492 -47 765 -50 866 -11 97 36 111 66 90 192 -7 41 -3 59 25 132 32 83 53\r\n124 82 159 17 20 27 23 16 5z\"\r\n      />\r\n    </g>\r\n  </svg>\r\n);\r\n","import React, { FC } from \"react\";\nimport { animateScroll as scroll } from \"react-scroll\";\n\nimport {\n  Content,\n  Cards,\n  Card,\n  Title,\n  Button,\n  Info,\n  Logo,\n  Time,\n  Transfer,\n  Sity,\n  More,\n} from \"../style/carts_style\";\nimport { air } from \"../assets/svg\";\nimport Spinner from \"./spinner\";\n\ninterface IProps {\n  cards: any;\n  setNumeric: React.Dispatch<React.SetStateAction<number>>;\n  numeric: number;\n}\n\nconst Carts: FC<IProps> = ({ cards, setNumeric, numeric }) => {\n  const getTimeFromMins = (mins: number) => {\n    let hours = Math.trunc(mins / 60);\n    let minutes = mins % 60;\n    return hours + \"ч \" + minutes + \"мин\";\n  };\n\n  if (cards) {\n    return (\n      <Content>\n        <Cards>\n          {cards.map((item: any, index: number) => {\n            let date = (d: string) => {\n              const res = [new Date(d)].toString().split(\"G\");\n\n              return res[0]\n                .replace(/Tue/gi, \"ср\")\n                .replace(/Aug/gi, \"авг.\")\n                .replace(/Wed/gi, \"чт\")\n                .replace(/Thu/gi, \"пят\")\n                .slice(0, -4)\n                .split(\"2020\");\n            };\n\n            const info = (n: boolean) => {\n              let segment =\n                item.legs[`${n ? 0 : 1}`].segments.length > 1 ? 1 : 0;\n\n              return (\n                <Info>\n                  <Sity>\n                    <span>\n                      {item.legs[`${n ? 0 : 1}`].segments[0].departureCity &&\n                        item.legs[`${n ? 0 : 1}`].segments[0].departureCity\n                          .caption}\n                      ,{\" \"}\n                      {\n                        item.legs[`${n ? 0 : 1}`].segments[0].departureAirport\n                          .caption\n                      }\n                      <strong>\n                        {\" \"}\n                        (\n                        {\n                          item.legs[`${n ? 0 : 1}`].segments[0].departureAirport\n                            .uid\n                        }\n                        )\n                      </strong>\n                    </span>\n                    <i className=\"fas fa-long-arrow-alt-right\"></i>{\" \"}\n                    <span>\n                      {item.legs[`${n ? 0 : 1}`].segments[segment]\n                        .arrivalCity &&\n                        item.legs[`${n ? 0 : 1}`].segments[segment].arrivalCity\n                          .caption}{\" \"}\n                      {\n                        item.legs[`${n ? 0 : 1}`].segments[segment]\n                          .arrivalAirport.caption\n                      }\n                      <strong>\n                        {\" \"}\n                        (\n                        {\n                          item.legs[`${n ? 0 : 1}`].segments[segment]\n                            .arrivalAirport.uid\n                        }\n                        )\n                      </strong>\n                    </span>\n                  </Sity>\n                  <Time>\n                    <span>\n                      {\n                        date(\n                          item.legs[`${n ? 0 : 1}`].segments[0].departureDate\n                        )[1]\n                      }\n                      <strong>\n                        {date(\n                          item.legs[`${n ? 0 : 1}`].segments[0].departureDate\n                        )[0]\n                          .split(\" \")\n                          .reverse()\n                          .join(\" \")}\n                      </strong>\n                    </span>{\" \"}\n                    <span>\n                      {\" \"}\n                      <i className=\"far fa-clock\"></i>{\" \"}\n                      {getTimeFromMins(item.legs[`${n ? 0 : 1}`].duration)}\n                    </span>{\" \"}\n                    <span>\n                      <strong>\n                        {date(\n                          item.legs[`${n ? 0 : 1}`].segments[segment]\n                            .arrivalDate\n                        )[0]\n                          .split(\" \")\n                          .reverse()\n                          .join(\" \")}\n                      </strong>\n                      {\n                        date(\n                          item.legs[`${n ? 0 : 1}`].segments[segment]\n                            .arrivalDate\n                        )[1]\n                      }\n                    </span>\n                  </Time>\n                  <Transfer>\n                    <span></span>\n                    {segment ? <h4>1 пересадка</h4> : null}\n                    <span></span>\n                  </Transfer>\n                  <h3>\n                    Рейс выполняет:{\" \"}\n                    {item.legs[`${n ? 0 : 1}`].segments[0].airline.caption}\n                  </h3>\n                </Info>\n              );\n            };\n\n            return (\n              <Card key={index}>\n                <Title>\n                  <Logo>{air}</Logo>\n                  <div>\n                    <h5>\n                      {parseInt(item.price.passengerPrices[0].total.amount)}{\" \"}\n                      &#8381;\n                    </h5>\n                    <p>Стоимость для одного взрослого пассажира</p>\n                  </div>\n                </Title>\n                {info(true)}\n                {info(false)}\n                <Button>Выбрать</Button>\n              </Card>\n            );\n          })}\n        </Cards>\n        {numeric <= cards.length && (\n          <More\n            onClick={() => {\n              setNumeric((prev) => prev + 2);\n              scroll.scrollToBottom();\n            }}\n          >\n            Показать еще\n          </More>\n        )}\n      </Content>\n    );\n  } else {\n    return <Spinner />;\n  }\n};\n\nexport default Carts;\n","import data from \"./flights.json\";\r\nexport default class Server {\r\n  getServer() {\r\n    return new Promise((resolve) => {\r\n      resolve(data);\r\n    });\r\n  }\r\n}\r\n","import styled, { createGlobalStyle } from \"styled-components\";\r\n\r\nexport const Global = createGlobalStyle`\r\n\r\n* {\r\n  padding: 0;\r\n  margin: 0;\r\n  border: 0;\r\n  user-select: none;\r\n}\r\nbody {\r\n  margin: 0;\r\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\",\r\n    \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\",\r\n    sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  background: #2c3e50;\r\n}\r\ncode {\r\n  font-family: source-code-pro, Menlo, Monaco, Consolas, \"Courier New\",\r\n    monospace;\r\n}\r\na {\r\n  text-decoration: none;\r\n}\r\nul li {\r\n  list-style: none;\r\n}\r\nbutton {\r\n  outline: none;\r\n  cursor: pointer;\r\n}\r\ninput{\r\n  outline: none;\r\n}\r\ninput[type=\"number\"]::-webkit-outer-spin-button,\r\ninput[type=\"number\"]::-webkit-inner-spin-button {\r\n    -webkit-appearance: none; // Yeah, yeah everybody write about it\r\n}\r\n\r\ninput[type='number'],\r\ninput[type=\"number\"]:hover,\r\ninput[type=\"number\"]:focus {\r\n    appearance: none;\r\n    -moz-appearance: textfield;\r\n}   \r\n`;\r\n\r\nexport const Content = styled.div`\r\n  max-width: 1320px;\r\n  min-height: 100vh;\r\n  margin: 0px auto;\r\n  background: #f9f9fd;\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  grid-gap: 10px;\r\n  padding: 10px;\r\n  position: relative;\r\n`;\r\n\r\nexport const Up = styled.i`\r\n  position: fixed;\r\n  bottom: 40px;\r\n  color: #f37335;\r\n  cursor: pointer;\r\n`;\r\n","import React, { FC, useState, useEffect } from \"react\";\nimport _sortby from \"lodash.sortby\";\nimport { animateScroll as scroll } from \"react-scroll\";\n\nimport Options from \"./components/options\";\nimport Carts from \"./components/carts\";\nimport Server from \"./data/axios\";\nimport { Global, Content, Up } from \"./style/app_style\";\n\nexport type IForm = {\n  sort: string;\n  filter: string[];\n  priceA: number;\n  priceB: number;\n  air: string[];\n};\n\nexport const defaultForm = {\n  air: [],\n  filter: [],\n  priceA: NaN,\n  priceB: NaN,\n  sort: \"1\",\n};\n\nconst dataServer = new Server();\n\nconst App: FC = () => {\n  const [items, setItems] = useState<any>(null);\n  const [airItems, setairItems] = useState<string[] | null>(null);\n  const [arrayFilter, setArrayFilter] = useState<any>(null); // для фасетной фильтрации\n  const [filterAir, setFilterAir] = useState<string[] | null>(null);\n  const [form, setForm] = useState<IForm>(defaultForm);\n  const [cards, setCards] = useState<any | null>(null);\n  const [numeric, setNumeric] = useState<number>(2);\n\n  useEffect(() => {\n    dataServer.getServer().then((data: any) => {\n      setTimeout(() => {\n        setItems(data.result);\n      }, 500);\n    });\n  }, []);\n\n  useEffect(() => {\n    if (items) {\n      setairItems([\n        ...Array.from(\n          new Set<string>(\n            items.flights.map((item: any) => item.flight.carrier.caption)\n          ).values()\n        ),\n      ]);\n    }\n  }, [items]);\n\n  useEffect(() => {\n    if (items) {\n      let res = items.flights.map((item: any) => {\n        return item.flight;\n      });\n      ////////////////////////////////////////////sort\n      form.sort === \"1\"\n        ? (res = _sortby(res, [\n            function (item) {\n              return Number(item.price.passengerPrices[0].total.amount);\n            },\n          ]))\n        : form.sort === \"2\"\n        ? (res = _sortby(res, [\n            function (item) {\n              return Number(item.price.passengerPrices[0].total.amount);\n            },\n          ]).reverse())\n        : (res = _sortby(res, [\n            function (item) {\n              return item.legs[0].duration + item.legs[1].duration;\n            },\n          ]));\n      ////////////////////////////////////////////////filter\n      if (form.filter.length > 0) {\n        res = res.filter((item: any) => {\n          let sum = item.legs[0].segments.length + item.legs[1].segments.length;\n\n          if (\n            [...form.filter].includes(\"1\") &&\n            ![...form.filter].includes(\"2\")\n          ) {\n            return sum > 2 && sum < 4 ? item : null;\n          } else if (\n            [...form.filter].includes(\"2\") &&\n            ![...form.filter].includes(\"1\")\n          ) {\n            return sum < 3 && sum < 4 ? item : null;\n          } else {\n            return sum < 4 ? item : null;\n          }\n        });\n      }\n\n      ///////////////////////////////////air\n\n      if (form.priceA || form.priceB) {\n        res = res.filter((item: any) => {\n          return Number(item.price.total.amount) < (form.priceB || Infinity) &&\n            Number(item.price.total.amount) > (form.priceA || 0)\n            ? item\n            : null;\n        });\n      }\n\n      setArrayFilter(res); // фасетная фильтрация\n      /////////////////////////////////////////price\n\n      if (form.air.length > 0) {\n        res = res.filter((item: any) => {\n          return [...form.air].includes(item.carrier.caption) ? item : null;\n        });\n      }\n\n      ////////////////////////////////\n\n      setCards(res);\n    }\n  }, [items, numeric, form]);\n\n  useEffect(() => {\n    if (airItems) {\n      let res = airItems.filter((item) => {\n        return [\n          ...arrayFilter.map((item: any) => item.carrier.caption),\n        ].includes(item)\n          ? item\n          : null;\n      });\n      setFilterAir(res);\n    }\n  }, [arrayFilter, airItems]);\n  //////////////фасетная фильтрация\n\n  return (\n    <>\n      <Global />\n      <Content>\n        <Options\n          airItems={filterAir || airItems}\n          setForm={setForm}\n          form={form}\n          setNumeric={setNumeric}\n        />\n        <Carts\n          cards={cards ? cards.slice(0, numeric) : cards}\n          setNumeric={setNumeric}\n          numeric={numeric}\n        />\n        {numeric > 4 && (\n          <Up\n            onClick={() => {\n              scroll.scrollToTop();\n              setTimeout(() => setNumeric(2), 1500);\n            }}\n            className=\"far fa-arrow-alt-circle-up fa-4x\"\n          />\n        )}\n      </Content>\n    </>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./app\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// reportWebVitals();\n"],"sourceRoot":""}